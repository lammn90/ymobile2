<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=640">
    <title>Form Entry~YMobile</title>
    <link href="css/sp-style.min.css" type="text/css" rel="stylesheet">
</head>
<body class="shsp">
<!--Header-->
<header id="site__header" class="site__header">

    <!--.nav__main-->
    <div class="nav__main">
        <div class="container">
            <h1 class="logo"><a href="index.html"><img src="images/logo-com.png" alt="Logo"></a></h1>
        </div>
    </div><!--END .nav__main-->

</header>
<!--END Header-->

<!--Main -->
<div class="site__main">
    <div class="container">
        <h2 class="ttl">お申し込みフォーム</h2>

        <!--.info--area-->
        <div class="info--area mt30">
            <p>下記フォームに必要事項をご入力いただき、「確認画面に進む」ボタンを押してください。</p>
        </div>
        <!--END .info--area-->

        <!--.form--area-->
        <div class="form--area mt50">

            <form id="entry-form" class="form">
                <dl>
                    <dt>
                        <label class="head--label">お名前 <span class="required">必須</span> <span class="icon icon--ok">OK</span></label>
                    </dt>
                    <dd>
                        <div class="form-group">
                            <input type="text" name="name_kan_ji" placeholder="例）田中　太郎" class="form-control required">
                            <span class="error">未入力です</span>
                        </div>
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <label>ふりがな</label>
                    </dt>
                    <dd>
                        <div class="form-group">
                            <input type="text" name="name_fu_ri_ga_na" placeholder="例）たなか　たろう" class="form-control required">
                            <span class="error">未入力です</span>
                        </div>
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <label>郵便番号 <span class="small">※入力すると住所が自動で入力されます。</span></label>
                    </dt>
                    <dd>
                        <div class="form-group">
                            <input type="text" name="zip_code" placeholder="例）0000000" class="form-control sum_address">
                        </div>
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <label>都道府県 <span class="required">必須</span> <span class="icon icon--ok">OK</span></label>
                    </dt>
                    <dd>
                        <div class="form-group">
                            <select class="form-control required sum_address" name="province">
                                <option value disabled>--選択--</option>
                                <option value="北海道">北海道</option>
                                <option value="青森県">青森県</option>
                                <option value="岩手県">岩手県</option>
                                <option value="宮城県">宮城県</option>
                                <option value="秋田県">秋田県</option>
                                <option value="山形県">山形県</option>
                                <option value="福島県">福島県</option>
                                <option value="茨城県">茨城県</option>
                                <option value="栃木県">栃木県</option>
                                <option value="群馬県">群馬県</option>
                                <option value="埼玉県">埼玉県</option>
                                <option value="千葉県">千葉県</option>
                                <option value="東京都">東京都</option>
                                <option value="神奈川県">神奈川県</option>
                                <option value="新潟県">新潟県</option>
                                <option value="富山県">富山県</option>
                                <option value="石川県">石川県</option>
                                <option value="福井県">福井県</option>
                                <option value="山梨県">山梨県</option>
                                <option value="長野県">長野県</option>
                                <option value="岐阜県">岐阜県</option>
                                <option value="静岡県">静岡県</option>
                                <option value="愛知県">愛知県</option>
                                <option value="三重県">三重県</option>
                                <option value="滋賀県">滋賀県</option>
                                <option value="京都府">京都府</option>
                                <option value="大阪府">大阪府</option>
                                <option value="兵庫県">兵庫県</option>
                                <option value="奈良県">奈良県</option>
                                <option value="和歌山県">和歌山県</option>
                                <option value="鳥取県">鳥取県</option>
                                <option value="島根県">島根県</option>
                                <option value="岡山県">岡山県</option>
                                <option value="広島県">広島県</option>
                                <option value="山口県">山口県</option>
                                <option value="徳島県">徳島県</option>
                                <option value="香川県">香川県</option>
                                <option value="愛媛県">愛媛県</option>
                                <option value="高知県">高知県</option>
                                <option value="福岡県">福岡県</option>
                                <option value="佐賀県">佐賀県</option>
                                <option value="長崎県">長崎県</option>
                                <option value="熊本県">熊本県</option>
                                <option value="大分県">大分県</option>
                                <option value="宮崎県">宮崎県</option>
                                <option value="鹿児島県">鹿児島県</option>
                                <option value="沖縄県">沖縄県</option>
                            </select>
                            <span class="error">未入力です</span>
                        </div>
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <label>市区町村・番地・建物名など <span class="required">必須</span> <span class="icon icon--ok">OK</span></label>
                    </dt>
                    <dd>
                        <div class="form-group">
                            <input type="text" name="city" placeholder="例）0町0丁目0番0号　マンション101号室" class="form-control required sum_address">
                            <span class="error">未入力です</span>
                        </div>
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <label class="head--label">電話番号 <span class="required">必須</span> <span class="icon icon--ok">OK</span></label>
                    </dt>
                    <dd>
                        <div class="form-group">
                            <input type="text" name="phone_number" placeholder="例）09012345678" class="form-control required">
                            <span class="error">10桁以上で入力してください</span>
                        </div>
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <label class="head--label">メールアドレス <span class="required">必須</span> <span class="icon icon--ok">OK</span></label>
                    </dt>
                    <dd>
                        <div class="form-group">
                            <input type="text" name="email" placeholder="例）sample@example.com(携帯OK)" class="form-control required">
                            <span class="error">未入力です</span>
                        </div>
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <label class="head--label">お使いのケータイキャリア <span class="required">必須</span> <span class="icon icon--ok">OK</span></label>
                    </dt>
                    <dd>
                        <div class="form-group">
                            <select class="form-control required">
                                <option selected disabled>-- 選択 --</option>
                                <option value="SoftBank" name="mobile_shop">SoftBank</option>
                                <option value="au" name="mobile_shop">au</option>
                                <option value="docomo" name="mobile_shop">docomo</option>
                                <option value="Y!mobile" name="mobile_shop">Y!mobile</option>
                                <option value="その他" name="mobile_shop">その他</option>
                            </select>
                            <span class="error">未入力です</span>
                        </div>
                    </dd>
                </dl>

                <dl>
                    <dt><label class="head--label">ご希望のプラン <span class="no--required">任意</span></label></dt>
                    <dd>
                        <div class="form-group">
                            <select class="form-control" name="plan_expected">
                                <option selected disabled>-- 選択 --</option>
                                <option value="プラン1">スマホプランS</option>
                                <option value="プラン2">スマホプランM</option>
                                <option value="プラン3">スマホプランL</option>
                                <option value="プラン4">ケータイプランSS</option>
                            </select>
                        </div>
                    </dd>
                </dl>

                <dl>
                    <dt><label class="head--label">ご希望の端末 <span class="no--required">任意</span></label></dt>
                    <dd>
                        <div class="form-group">
                            <select class="form-control" name="output_expected">
                                <option value="">-- 選択 --</option>
                                <optgroup label="---- スマートフォン ----" class="js-terminal1">
                                    <option value="Andorid One X3">Andorid One X3</option>
                                    <option value="Andorid One X2">Andorid One X2</option>
                                    <option value="Andorid One X1">Andorid One X1</option>
                                    <option value="Andorid One S3">Andorid One S3</option>
                                    <option value="Andorid One S2">Andorid One S2</option>
                                    <option value="Andorid One S1">Andorid One S1</option>
                                    <option value="507SH,Android One">507SH,Android One</option>
                                    <option value="nova lite for Y!mobile">nova lite for Y!mobile</option>
                                    <option value="DIGNO E">DIGNO E</option>
                                    <option value="Nexus 5X">Nexus 5X</option>
                                    <option value="P10 Plus">P10 Plus</option>
                                    <option value="P10">P10</option>
                                    <option value="P10 lite">P10 lite</option>
                                    <option value="Mate10 Pro">Mate10 Pro</option>
                                    <option value="Mate10 lite">Mate10 lite</option>
                                </optgroup>
                                <optgroup label="---- 携帯電話 ----" class="js-terminal2" style="display: none;">
                                    <option value="DIGNO ケータイ2">DIGNO ケータイ2</option>
                                    <option value="Simply AQUOS ケータイ2">Simply AQUOS ケータイ2</option>
                                    <option value="DIGNO ケータイ">DIGNO ケータイ</option>
                                    <option value="Simply">Simply</option>
                                </optgroup>
                                <optgroup label="---- SIMカード ----" class="js-terminal1">
                                    <option value="SIMカード">SIMカード</option>
                                </optgroup>
                            </select>
                        </div>
                    </dd>
                </dl>


            </form>
        </div>
        <!--END .form--area-->

        <!--.message--area-->
        <div class="message--area mt30 hide">
            <p>ここにトークンエラーのテキストが入ります。これはダミーテキストです。</p>
        </div>
        <!--END .message--area-->

        <!--.action--area-->
        <div class="action--area text-center mt60">
            <button id="submitStep1" type="submit" class="btn btn--lg btn--dark-grey wp100">確認ページに進む</button>
        </div>
        <!--END .action--area-->

    </div>
</div>
<!--END Main -->

<!--.bl--lock-->
<div class="bl--lock bg--grey text-center">
    <div class="container">
        <ul class="ulnostyle ulinline">
            <li>
                <img src="images/ic-lock-red.png" alt="">
            </li>
            <li class="text-left">
                <h4>当サイトはSSLに対応しています。</h4>
                <p><small>当サイトのフォームはお客様の大切な情報を暗号化して<br/>
                    送信しますので安心してご利用頂けます</small></p>
            </li>
        </ul>
    </div>
</div>
<!--END .bl--lock-->

<!--Footer-->
<footer class="site__footer">

    <!--.copyright-->
    <div class="copyright">
        <div class="container">
            <ul class="ulnostyle">
                <li class="text-center"><p>Copyright 株式会社 ALL CONNECT</p></li>
            </ul>
        </div>
    </div><!--END .copyright-->

</footer>
<!--END Footer-->

<!--Script-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="js/script.js"></script>
<script type="text/javascript">
    function checkValidation(){
        var form = $('#entry-form');
        var areaMessage = $('.message--area');
        $('#submitStep1').click(function(){
            var errorIndex = 0;
            $('.form-group .required').each(function(){
                var _this = $(this);
                var value = _this.val();
                if(value === '' ){
                    _this.addClass('error').closest('.form-group').addClass('error');
                    areaMessage.removeClass('hide');
                    if(errorIndex == 0){
                        _this.focus();
                    }
                    errorIndex++;
                }else{
                    _this.removeClass('error').closest('.form-group').removeClass('error');
                    areaMessage.addClass('hide');
                }
            });

            if(errorIndex == 0){
                var dataForm = getPrama('input','?');
                dataForm = getPrama('select',dataForm);
                dataForm = getPrama('textarea',dataForm);
                window.location = "form-entry-confirm.html" + dataForm;
            }
        });
    }
    $(document).ready(function(){
        loadData();
        checkValidation();
    });
    var address = '';
    function getPrama(tagName, dataForm){
        $(tagName).each(function(){
            var _this = $(this);
            var type = _this.attr('type');
            if(type != 'radio' ||  ('radio' == type && _this.is(":checked")) ){
                var name = _this.attr('name');
                var value = _this.val();

                if(_this.hasClass('sum_address')){
                    if(value == 'zip_code'){
                        address+= '〒' + value + '<br/>';
                    }else{
                        address+= value;
                    }
                }
                if(dataForm != '?') dataForm+= "&";
                if(value == null) value = '';
                dataForm+= name + "=" + value;
            }
        });
        if(address != '')  dataForm+= '&sum_address' + "=" + address;
        return dataForm;
    }

    function loadData(){
        if(window.location.search){
            var queryString = decodeURIComponent(window.location.search);
            var btnBack = $('#btnBack');
            var href = btnBack.attr('href');
            btnBack.attr('href',href+window.location.search);
            queryString = queryString.substring(1);
            var queries = queryString.split("&");
            for (var i = 0; i < queries.length; i++)
            {
                var params = queries[i].split("=");
                var paramName = params[0];
                var value = params[1];
                if(paramName != null){
                    $('input[name='+ paramName +']').each(function(){
                        var _this = $(this);
                        if(_this.attr('type') == 'radio'){
                            if(value == _this.val())
                                $(this).prop('checked', true);
                        }else{
                            _this.val(value);
                        }
                    });
                    $('select[name=' + paramName + ']').val(value);
                    $('textarea[name='+ paramName + ']').val(value);
                }
            }
        }
    }
</script>
<!--END script-->
</body>
</html>
